# 🧩 Problem #2125 – Number of Laser Beams in a Bank

**Difficulty:** Medium  
**Topics:** `Array`, `String`, `Matrix`   
**Link:** [Leetcode](https://leetcode.com/problems/number-of-laser-beams-in-a-bank/)

---

## 🧠 Intuition

We are given a 2D bank floor plan where `'1'` represents a **security device** and `'0'` represents empty space.  
Each row can have several devices, and **a laser beam connects devices only between two non-empty rows** —  
i.e., there must be **no devices** in between those two rows.

👉 The key pattern:
- If a row has `a` devices and the next non-empty row has `b` devices,  
  They form `a * b` beams between them.

So, the total beams = sum of `(devices_in_previous_non_empty_row * devices_in_current_non_empty_row)`  
as we iterate top to bottom through the matrix.

---

## 🧩 Approach — Count Devices per Row

### 💡 Idea
1. Iterate through each row of the bank.
2. Count the number of `'1'`s → the number of security devices in that row.
3. If the count is `> 0` (non-empty row):
   - Multiply it by the number of devices in the previous non-empty row.
   - Add the result to the total beams.
   - Update the `previousRowDevices` to the current count.

---

### 💻 Code (TypeScript)
```TypeScript []
function numberOfBeams(bank: string[]): number {
  let prevCount = 0;  // number of devices in previous non-empty row
  let beams = 0;      // total laser beams

  // O(m * n)
  for (const row of bank) {
    let cnt = 0;
    for (let i = 0; i < row.length; i++) {
      if (row[i] === '1') cnt++;
    }

    if (cnt > 0) {
      beams += prevCount * cnt;  // add beams between rows
      prevCount = cnt;           // move to current row
    }
  }

  return beams;
}
```

### ⏱️ Complexity
| Operation | Time | Space |
|------------|------|--------|
| Count devices in each row | `O(m * n)` | `O(1)` |
| Total | **O(m × n)** | **O(1)** |

With `m, n ≤ 500`, this is very efficient.

---

## 🧮 Example Walkthrough

```text
bank = ["011001", "000000", "010100", "001000"]

Row 1 → 3 devices
Row 2 → 0 devices → skip
Row 3 → 2 devices → 3 * 2 = 6 beams
Row 4 → 1 device  → 2 * 1 = 2 beams

Total = 6 + 2 = 8 ✅
```

---

## ✅ Takeaway

- Focus only on **rows with devices** — others don’t contribute.
- Multiply consecutive non-empty rows’ device counts → `prev * curr`.
- Constant space, single pass → simple and optimal.

💡 Clean logic, zero overthinking, exactly how a “bank laser system” should be — **fast, direct, and precise.**

---

