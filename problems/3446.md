# ðŸ§© Problem #3446 â€“ Sort Matrix by Diagonals

**Difficulty:** Medium  
**Topics:** `Matrix`, `Sorting`, `Simulation`  
**Link:** [LeetCode 3446](https://leetcode.com/problems/sort-matrix-by-diagonals/description/)

---

## ðŸ’¡ Approach â€“ Diagonal Simulation

We directly **simulate diagonal sorting** by traversing from each diagonalâ€™s starting point.

- Diagonals starting on the **left side** (first column) are sorted in **non-increasing order**.  
- Diagonals starting on the **top side** (first row, excluding column 0) are sorted in **non-decreasing order**.  

For each diagonal:
1. Collect its values into an array.
2. Sort them in the required order.
3. Write them back into the matrix.

---

### Complexity

- **Time:** $$O(n^2 \log n)$$ â€” each diagonal sorted individually  
- **Space:** $$O(n)$$ â€” temporary storage for one diagonal  

---

### Code

```javascript []
var sortMatrix = function(grid) {
    const n = grid.length;
    const m = grid[0].length;

    function diagonalHandle(i, j, sortIncreasing) {
        const len = n - Math.max(i, j); // since grid is square
        const nums = new Array(len);

        let _i = i, _j = j, k = 0;
        // collect
        while (_i < n && _j < m) {
            nums[k++] = grid[_i][_j];
            _i++; _j++;
        }

        if (sortIncreasing) nums.sort((a, b) => a - b);
        else nums.sort((a, b) => b - a);

        _i = i; _j = j; k = 0;
        // write back
        while (_i < n && _j < m) {
            grid[_i][_j] = nums[k++];
            _i++; _j++;
        }
    }

    // left side (including main diagonal) â†’ non-increasing
    for (let i = 0; i < n; i++) diagonalHandle(i, 0, false);
    // top side (excluding main diagonal) â†’ non-decreasing
    for (let j = 1; j < m; j++) diagonalHandle(0, j, true);

    return grid;
};
```
---

### ðŸ† Final Notes

- Straightforward simulation by iterating each diagonal.
- Sorting direction depends on whether diagonal originates from left column (â†“) or top row (â†‘).
- Easy to implement and intuitive â€” even if not the most compact code, itâ€™s clear and maintainable.
